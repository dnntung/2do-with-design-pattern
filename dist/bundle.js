(()=>{"use strict";var t,e=function(){function t(t,e){this._controller=t,this._data=e}return t.prototype.restore=function(){this._controller.todoItems=this._data},t}(),o=function(){function t(){this._observers=[]}return t.prototype.subscribe=function(t){this._observers.push(t)},t.prototype.unsubscribe=function(t){this._observers=this._observers.filter((function(e){return e!==t}))},t.prototype.notify=function(t){this._observers.map((function(e){return e.update(t)}))},t}(),n=function(){function t(t,e,o){this._id=t,this._title=e,this._desc=o,this._createdAt=new Date,this._updatedAt=new Date,this._completed=!1}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desc",{get:function(){return this._desc},set:function(t){this._desc=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return this._completed},set:function(t){this._completed=t},enumerable:!1,configurable:!0}),t.prototype.update=function(t,e){this._title=t,this._desc=e,this._updatedAt=new Date},t}(),r=function(){function t(t){this._renderer=t}return t.prototype._saveToStorage=function(t){localStorage.setItem("todo_items",JSON.stringify(t))},t.prototype.update=function(t){this._saveToStorage(t),this._renderer.render(t)},t}(),i=function(){function t(){this._observerManager=new o;try{var t=JSON.parse(localStorage.getItem("todo_items"))||[];this._todoItems=t.map((function(t){return new n(t._id,t._title,t._desc)}))}catch(t){this._todoItems=[]}}return Object.defineProperty(t.prototype,"renderer",{set:function(t){this._observerManager.subscribe(new r(t)),this._observerManager.notify(this._todoItems)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todoItems",{get:function(){return this._todoItems},set:function(t){this._todoItems=t,this._observerManager.notify(this._todoItems)},enumerable:!1,configurable:!0}),t.getInstance=function(){return this._controller||(this._controller=new this),this._controller},t.prototype.createTodo=function(t,e){this._todoItems.push(new n(this._todoItems.length,t,e)),this._observerManager.notify(this._todoItems)},t.prototype.completeTodo=function(t,e){this._todoItems.find((function(e){return e.id===t})).completed=e,this._observerManager.notify(this._todoItems)},t.prototype.editTodo=function(t,e,o){this._todoItems.find((function(e){return e.id===t})).update(e,o),this._observerManager.notify(this._todoItems)},t.prototype.removeTodo=function(t){this._todoItems=this._todoItems.filter((function(e){return e.id!=t})),this._observerManager.notify(this._todoItems)},t.prototype.saveHistory=function(){this._history=new e(this,this._todoItems)},t.prototype.rollbackFromHistory=function(){this._history.restore()},t}(),s=function(){function t(){}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t},enumerable:!1,configurable:!0}),t.prototype.resetContainer=function(){this._container.innerHTML=""},t.prototype.render=function(t){},t}(),c=(t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(t){console.log(t.completed);var e=document.createElement("li");e.setAttribute("data-id",t.id.toString()),e.className="list-group-item list-group-item-action";var o=this._renderTodoStatus(t.completed),n=this._renderTitle(t.title,t.completed),r=this._renderSubtitle(t.desc,t.completed);e.appendChild(o),e.appendChild(n),e.appendChild(r),e.onclick=function(e){var o=!t.completed;i.getInstance().completeTodo(t.id,o)},this.container.prepend(e)},e.prototype._renderTitle=function(t,e){var o;return(o=e?document.createElement("del"):document.createElement("span")).textContent=t,o},e.prototype._renderSubtitle=function(t,e){var o=document.createElement("p");return o.innerText=t,o},e.prototype._renderTodoStatus=function(t){var e=document.createElement("input");return e.setAttribute("type","checkbox"),e.className="form-check-input me-3",e.checked=t,e},e}(s),d=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=function(t){function e(){var e=t.call(this)||this;return e._todoRenderer=new u,e}return d(e,t),e.prototype.render=function(e){var o=this,n=document.createElement("ul");n.className="list-group",this._todoRenderer.container=n,t.prototype.resetContainer.call(this),console.log("Rendering items..."),e.map((function(t){o._renderTodoItem(t)})),console.log("Adding items to container..."),this.container.appendChild(n),console.log("Done render items...")},e.prototype._renderTodoItem=function(t){this._todoRenderer.render(t)},e}(s);window.addEventListener("load",(function(){var t=i.getInstance(),e=new a;e.container=document.getElementById("todo-list"),t.renderer=e,console.log("Loaded"),document.getElementById("add-todo").onsubmit=function(e){e.preventDefault();var o=new FormData(e.currentTarget);t.createTodo(o.get("title"),"")}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLFNBQUMyQixHQUNOLEVBQUsrQyxnQkFBZ0IvQyxNQUd6Qm1CLFFBQVFDLElBQUksZ0NBQ1o1RCxLQUFLd0QsVUFBVWlCLFlBQVlhLEdBRTNCM0IsUUFBUUMsSUFBSSx5QkFHUixZQUFBMkIsZ0JBQVIsU0FBd0IvQyxHQUNwQnhDLEtBQUtvRixjQUFjbkQsT0FBT08sSUFFbEMsRUFoQ0EsQ0FBc0MyQyxHQ0R0Q0ssT0FBT0MsaUJBQWlCLFFBQVEsV0FFNUIsSUFBTTNGLEVBQTZCOEUsRUFBZWhDLGNBRTVDbEIsRUFBNkIsSUFBSWdFLEVBQ3ZDaEUsRUFBUzhCLFVBQVlNLFNBQVM2QixlQUFlLGFBQzdDN0YsRUFBVzRCLFNBQVdBLEVBRXRCaUMsUUFBUUMsSUFBSSxVQUVDRSxTQUFTNkIsZUFBZSxZQUNoQ0MsU0FBVyxTQUFDakIsR0FDYkEsRUFBRWtCLGlCQUVGLElBQU1DLEVBQVcsSUFBSUMsU0FBU3BCLEVBQUVxQixlQUNoQ2xHLEVBQVcrQyxXQUFXaUQsRUFBU0csSUFBSSxTQUFvQixTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vMmRvLy4vc3JjL21vZHVsZXMvSGlzdG9yeS50cyIsIndlYnBhY2s6Ly8yZG8vLi9zcmMvbW9kdWxlcy9PYnNlcnZlck1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vMmRvLy4vc3JjL21vZHVsZXMvVG9kby50cyIsIndlYnBhY2s6Ly8yZG8vLi9zcmMvbW9kdWxlcy9Ub2RvT2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vMmRvLy4vc3JjL21vZHVsZXMvVG9kb0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vMmRvLy4vc3JjL2ludGVyZmFjZXMvUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vMmRvLy4vc3JjL21vZHVsZXMvVG9kb0l0ZW1SZW5kZXJlci50cyIsIndlYnBhY2s6Ly8yZG8vLi9zcmMvbW9kdWxlcy9Ub2RvTGlzdFJlbmRlcmVyLnRzIiwid2VicGFjazovLzJkby8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIaXN0b3J5U25hcHNob3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9IaXN0b3J5U25hcHNob3RcIjtcclxuaW1wb3J0IHsgVG9kb0l0ZW0gfSBmcm9tIFwiLi9Ub2RvXCI7XHJcbmltcG9ydCB7IFRvZG9Db250cm9sbGVyIH0gZnJvbSBcIi4vVG9kb0NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvSGlzdG9yeVNuYXBzaG90IGltcGxlbWVudHMgSGlzdG9yeVNuYXBzaG90IHtcclxuICAgIHByaXZhdGUgX2NvbnRyb2xsZXI6IFRvZG9Db250cm9sbGVyO1xyXG4gICAgcHJpdmF0ZSBfZGF0YTogVG9kb0l0ZW1bXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXI6IFRvZG9Db250cm9sbGVyLCBkYXRhOiBUb2RvSXRlbVtdKSB7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGFcclxuICAgIH1cclxuXHJcbiAgICByZXN0b3JlKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xsZXIudG9kb0l0ZW1zID0gdGhpcy5fZGF0YVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9PYnNlcnZlclwiXHJcbmltcG9ydCB7IFRvZG9PYnNlcnZlciB9IGZyb20gXCIuL1RvZG9PYnNlcnZlclwiXHJcblxyXG5leHBvcnQgY2xhc3MgT2JzZXJ2ZXJNYW5hZ2VyIHtcclxuICAgIC8vIE9ic2VydmVyXHJcbiAgICBwcml2YXRlICBfb2JzZXJ2ZXJzOiAgT2JzZXJ2ZXJbXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX29ic2VydmVycyA9IFtdXHJcbiAgICB9XHJcblxyXG4gICAgc3Vic2NyaWJlKCBvYnNlcnZlcjogT2JzZXJ2ZXIpIHtcclxuICAgICAgICB0aGlzLl9vYnNlcnZlcnMucHVzaChvYnNlcnZlcilcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdW5zdWJzY3JpYmUob2JzZXJ2ZXI6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzID0gdGhpcy5fb2JzZXJ2ZXJzLmZpbHRlcihvID0+IG8hPT0gb2JzZXJ2ZXIpXHJcbiAgICB9XHJcblxyXG4gICAgbm90aWZ5KGRhdGE6IGFueSkge1xyXG4gICAgICAgIHRoaXMuX29ic2VydmVycy5tYXAobyA9PiBvLnVwZGF0ZShkYXRhKSlcclxuICAgIH1cclxufVxyXG4gICAgIiwiXHJcbmV4cG9ydCBjbGFzcyBUb2RvSXRlbSAge1xyXG4gICAgcHJpdmF0ZSBfaWQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgX3RpdGxlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9kZXNjOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9jcmVhdGVkQXQ6IERhdGU7XHJcbiAgICBwcml2YXRlIF91cGRhdGVkQXQ6IERhdGU7XHJcbiAgICBwcml2YXRlIF9jb21wbGV0ZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgdGl0bGU6IHN0cmluZywgZGVzYzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlXHJcbiAgICAgICAgdGhpcy5fZGVzYyA9IGRlc2NcclxuICAgICAgICB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlZEF0ID0gbmV3IERhdGUoKVxyXG4gICAgICAgIHRoaXMuX2NvbXBsZXRlZCA9IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZFxyXG4gICAgfVxyXG5cclxuICAgIGdldCB0aXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGVcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVzYygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wbGV0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBsZXRlZFxyXG4gICAgfVxyXG5cclxuICAgIHNldCB0aXRsZSh0aXRsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZVxyXG4gICAgfVxyXG5cclxuICAgIHNldCBkZXNjKGRlc2M6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX2Rlc2MgPSBkZXNjXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGNvbXBsZXRlZChjb21wbGV0ZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICAgdGhpcy5fY29tcGxldGVkID0gY29tcGxldGVkXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHRpdGxlOiBzdHJpbmcsIGRlc2M6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGVcclxuICAgICAgICB0aGlzLl9kZXNjID0gZGVzY1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZWRBdCA9IG5ldyBEYXRlKClcclxuICAgIH1cclxufSIsImltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvT2JzZXJ2ZXJcIjtcclxuaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBUb2RvSXRlbSB9IGZyb20gXCIuL1RvZG9cIjtcclxuaW1wb3J0IHsgVG9kb0xpc3RSZW5kZXJlciB9IGZyb20gXCIuL1RvZG9MaXN0UmVuZGVyZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvT2JzZXJ2ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XHJcbiAgICBwcml2YXRlIF9yZW5kZXJlcjogVG9kb0xpc3RSZW5kZXJlclxyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogVG9kb0xpc3RSZW5kZXJlcikge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXJcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfc2F2ZVRvU3RvcmFnZShkYXRhOiBUb2RvSXRlbVtdKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvX2l0ZW1zXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkYXRhOiBUb2RvSXRlbVtdKSB7XHJcbiAgICAgICAgdGhpcy5fc2F2ZVRvU3RvcmFnZShkYXRhKVxyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcihkYXRhKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBUb2RvSGlzdG9yeVNuYXBzaG90IH0gZnJvbSBcIi4vSGlzdG9yeVwiO1xyXG5pbXBvcnQgeyBPYnNlcnZlck1hbmFnZXIgfSBmcm9tIFwiLi9PYnNlcnZlck1hbmFnZXJcIjtcclxuaW1wb3J0IHsgVG9kb0l0ZW0gfSBmcm9tIFwiLi9Ub2RvXCI7XHJcbmltcG9ydCB7IFRvZG9MaXN0UmVuZGVyZXIgfSBmcm9tIFwiLi9Ub2RvTGlzdFJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IFRvZG9PYnNlcnZlciB9IGZyb20gXCIuL1RvZG9PYnNlcnZlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvZG9Db250cm9sbGVyIHtcclxuICAgIHByaXZhdGUgX3RvZG9JdGVtczogVG9kb0l0ZW1bXTtcclxuICAgIHByaXZhdGUgc3RhdGljIF9jb250cm9sbGVyOiBUb2RvQ29udHJvbGxlcjtcclxuICAgIHByaXZhdGUgX2hpc3Rvcnk6IFRvZG9IaXN0b3J5U25hcHNob3RcclxuICAgIHByaXZhdGUgX29ic2VydmVyTWFuYWdlcjogT2JzZXJ2ZXJNYW5hZ2VyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX29ic2VydmVyTWFuYWdlciA9IG5ldyBPYnNlcnZlck1hbmFnZXIoKVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtczogYW55W10gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9kb19pdGVtc1wiKSkgfHwgW11cclxuICAgICAgICAgICAgdGhpcy5fdG9kb0l0ZW1zID0gIHN0b3JhZ2VJdGVtcy5tYXAoaXRlbSA9PiBuZXcgVG9kb0l0ZW0oaXRlbS5faWQsIGl0ZW0uX3RpdGxlLCBpdGVtLl9kZXNjKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZXJyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvZG9JdGVtcyA9IFtdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldCByZW5kZXJlcihyZW5kZXJlcjogVG9kb0xpc3RSZW5kZXJlcikge1xyXG4gICAgICAgIHRoaXMuX29ic2VydmVyTWFuYWdlci5zdWJzY3JpYmUobmV3IFRvZG9PYnNlcnZlcihyZW5kZXJlcikpXHJcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJNYW5hZ2VyLm5vdGlmeSh0aGlzLl90b2RvSXRlbXMpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRvZG9JdGVtcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdG9kb0l0ZW1zXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHRvZG9JdGVtcyh0b2RvSXRlbXM6IFRvZG9JdGVtW10pIHtcclxuICAgICAgICB0aGlzLl90b2RvSXRlbXMgPSB0b2RvSXRlbXNcclxuICAgICAgICB0aGlzLl9vYnNlcnZlck1hbmFnZXIubm90aWZ5KHRoaXMuX3RvZG9JdGVtcylcclxuICAgIH1cclxuXHJcbiAgICAvLyBTaW5nbGV0b24gXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogVG9kb0NvbnRyb2xsZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5fY29udHJvbGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gbmV3IHRoaXMoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRyb2xsZXJcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVUb2RvKHRpdGxlOiBzdHJpbmcsIGRlc2M6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3RvZG9JdGVtcy5wdXNoKG5ldyBUb2RvSXRlbSh0aGlzLl90b2RvSXRlbXMubGVuZ3RoLCB0aXRsZSwgZGVzYykpXHJcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJNYW5hZ2VyLm5vdGlmeSh0aGlzLl90b2RvSXRlbXMpXHJcbiAgICB9XHJcblxyXG4gICAgY29tcGxldGVUb2RvKGlkOiBudW1iZXIsIGNvbXBsZXRlZDogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHRvZG9JdGVtOiBUb2RvSXRlbSA9IHRoaXMuX3RvZG9JdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaWQpXHJcbiAgICAgICAgdG9kb0l0ZW0uY29tcGxldGVkID0gY29tcGxldGVkXHJcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJNYW5hZ2VyLm5vdGlmeSh0aGlzLl90b2RvSXRlbXMpXHJcbiAgICB9XHJcblxyXG4gICAgZWRpdFRvZG8oaWQ6IG51bWJlciwgdGl0bGU6IHN0cmluZywgZGVzYzogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgdG9kb0l0ZW06IFRvZG9JdGVtID0gdGhpcy5fdG9kb0l0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBpZClcclxuICAgICAgICB0b2RvSXRlbS51cGRhdGUodGl0bGUsIGRlc2MpXHJcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJNYW5hZ2VyLm5vdGlmeSh0aGlzLl90b2RvSXRlbXMpXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVG9kbyhpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fdG9kb0l0ZW1zPSB0aGlzLl90b2RvSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPSBpZClcclxuICAgICAgICB0aGlzLl9vYnNlcnZlck1hbmFnZXIubm90aWZ5KHRoaXMuX3RvZG9JdGVtcylcclxuICAgIH1cclxuXHJcbiAgICAvLyBNZW1lbnRvIFxyXG4gICAgc2F2ZUhpc3RvcnkoKSB7XHJcbiAgICAgICAgdGhpcy5faGlzdG9yeSA9ICBuZXcgVG9kb0hpc3RvcnlTbmFwc2hvdCh0aGlzLCB0aGlzLl90b2RvSXRlbXMpXHJcbiAgICB9XHJcblxyXG4gICAgcm9sbGJhY2tGcm9tSGlzdG9yeSgpIHtcclxuICAgICAgICB0aGlzLl9oaXN0b3J5LnJlc3RvcmUoKVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbmRlcmVyPFQ+IHtcclxuICAgIHByaXZhdGUgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgICBzZXQgY29udGFpbmVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29udGFpbmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXJcclxuICAgIH1cclxuXHJcbiAgICByZXNldENvbnRhaW5lcigpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxyXG4gICAgfVxyXG5cclxuICAgICByZW5kZXIoZGF0YTogVCk6IHZvaWQge31cclxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgVG9kb0l0ZW0gfSBmcm9tIFwiLi9Ub2RvXCI7XHJcbmltcG9ydCB7IFRvZG9Db250cm9sbGVyIH0gZnJvbSBcIi4vVG9kb0NvbnRyb2xsZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvSXRlbVJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXI8VG9kb0l0ZW0+IHtcclxuXHJcbiAgICAvLyBGYWNhZGUgXHJcbiAgICByZW5kZXIoZGF0YTogVG9kb0l0ZW0pOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmNvbXBsZXRlZClcclxuXHJcbiAgICAgICAgY29uc3QgaXRlbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxyXG4gICAgICAgIGl0ZW1Db250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBkYXRhLmlkLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgaXRlbUNvbnRhaW5lci5jbGFzc05hbWUgPSBcImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tYWN0aW9uXCJcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2tib3hFbDogSFRNTElucHV0RWxlbWVudCA9IHRoaXMuX3JlbmRlclRvZG9TdGF0dXMoZGF0YS5jb21wbGV0ZWQpXHJcbiAgICAgICAgY29uc3QgdGl0bGVFbDogSFRNTEVsZW1lbnQgPSB0aGlzLl9yZW5kZXJUaXRsZShkYXRhLnRpdGxlLCBkYXRhLmNvbXBsZXRlZClcclxuICAgICAgICBjb25zdCBzdWJ0aXRsZUVsOiBIVE1MRWxlbWVudCA9IHRoaXMuX3JlbmRlclN1YnRpdGxlKGRhdGEuZGVzYywgZGF0YS5jb21wbGV0ZWQpXHJcblxyXG4gICAgICAgIGl0ZW1Db250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2tib3hFbClcclxuICAgICAgICBpdGVtQ29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlRWwpXHJcbiAgICAgICAgaXRlbUNvbnRhaW5lci5hcHBlbmRDaGlsZChzdWJ0aXRsZUVsKVxyXG5cclxuICAgICAgICBpdGVtQ29udGFpbmVyLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSAhZGF0YS5jb21wbGV0ZWRcclxuICAgICAgICAgICAgVG9kb0NvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKS5jb21wbGV0ZVRvZG8oZGF0YS5pZCwgY29tcGxldGVkKVxyXG4gICAgICAgIH0gXHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5wcmVwZW5kKGl0ZW1Db250YWluZXIpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVuZGVyVGl0bGUodGl0bGU6IHN0cmluZywgY29tcGxldGVkOiBib29sZWFuKTpIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IHRpdGxlRWxcclxuICAgICAgICBpZiAoIWNvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICB0aXRsZUVsID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB0aXRsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRlbFwiKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gdGl0bGVcclxuXHJcbiAgICAgICAgcmV0dXJuIHRpdGxlRWxcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9yZW5kZXJTdWJ0aXRsZShzdWJ0aXRsZTogc3RyaW5nLCBjb21wbGV0ZWQ6IGJvb2xlYW4pOkhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBzdWJ0aXRsZUVsID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXHJcbiAgICAgICAgc3VidGl0bGVFbC5pbm5lclRleHQgPSBzdWJ0aXRsZVxyXG5cclxuICAgICAgICByZXR1cm4gc3VidGl0bGVFbFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3JlbmRlclRvZG9TdGF0dXMoY29tcGxldGVkOiBib29sZWFuKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgY2hlY2tCb3hFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxyXG4gICAgICAgIGNoZWNrQm94RWwuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xyXG4gICAgICAgIGNoZWNrQm94RWwuY2xhc3NOYW1lID0gXCJmb3JtLWNoZWNrLWlucHV0IG1lLTNcIlxyXG4gICAgICAgIGNoZWNrQm94RWwuY2hlY2tlZCA9IGNvbXBsZXRlZFxyXG5cclxuICAgICAgICByZXR1cm4gY2hlY2tCb3hFbFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9SZW5kZXJlclwiXHJcbmltcG9ydCB7IFRvZG9JdGVtIH0gZnJvbSBcIi4vVG9kb1wiXHJcbmltcG9ydCB7IFRvZG9JdGVtUmVuZGVyZXIgfSBmcm9tIFwiLi9Ub2RvSXRlbVJlbmRlcmVyXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvTGlzdFJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXI8VG9kb0l0ZW1bXT4ge1xyXG4gICAgcHJpdmF0ZSBfdG9kb1JlbmRlcmVyOiBUb2RvSXRlbVJlbmRlcmVyXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMuX3RvZG9SZW5kZXJlciA9bmV3IFRvZG9JdGVtUmVuZGVyZXIoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGYWNhZGUgXHJcbiAgICByZW5kZXIoZGF0YTogVG9kb0l0ZW1bXSkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKVxyXG4gICAgICAgIGxpc3RFbC5jbGFzc05hbWUgPSBcImxpc3QtZ3JvdXBcIlxyXG5cclxuICAgICAgICB0aGlzLl90b2RvUmVuZGVyZXIuY29udGFpbmVyID0gbGlzdEVsXHJcblxyXG4gICAgICAgIHN1cGVyLnJlc2V0Q29udGFpbmVyKClcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW5kZXJpbmcgaXRlbXMuLi5cIilcclxuICAgICAgICBcclxuICAgICAgICBkYXRhLm1hcCgoaXRlbTogVG9kb0l0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9kb0l0ZW0oaXRlbSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFkZGluZyBpdGVtcyB0byBjb250YWluZXIuLi5cIilcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0RWwpXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRG9uZSByZW5kZXIgaXRlbXMuLi5cIilcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9yZW5kZXJUb2RvSXRlbShpdGVtOiBUb2RvSXRlbSkgIHtcclxuICAgICAgICB0aGlzLl90b2RvUmVuZGVyZXIucmVuZGVyKGl0ZW0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBUb2RvQ29udHJvbGxlciB9IGZyb20gXCIuL21vZHVsZXMvVG9kb0NvbnRyb2xsZXJcIlxyXG5pbXBvcnQgeyBUb2RvTGlzdFJlbmRlcmVyIH0gZnJvbSBcIi4vbW9kdWxlcy9Ub2RvTGlzdFJlbmRlcmVyXCJcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcblxyXG4gICAgY29uc3QgY29udHJvbGxlcjogVG9kb0NvbnRyb2xsZXIgPSBUb2RvQ29udHJvbGxlci5nZXRJbnN0YW5jZSgpXHJcbiAgICBcclxuICAgIGNvbnN0IHJlbmRlcmVyOiBUb2RvTGlzdFJlbmRlcmVyID0gbmV3IFRvZG9MaXN0UmVuZGVyZXIoKVxyXG4gICAgcmVuZGVyZXIuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2RvLWxpc3RcIilcclxuICAgIGNvbnRyb2xsZXIucmVuZGVyZXIgPSByZW5kZXJlclxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkXCIpXHJcblxyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLXRvZG9cIilcclxuICAgIGZvcm0ub25zdWJtaXQgPSAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG5cclxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEZvcm1FbGVtZW50KTtcclxuICAgICAgICBjb250cm9sbGVyLmNyZWF0ZVRvZG8oZm9ybURhdGEuZ2V0KFwidGl0bGVcIikgYXMgc3RyaW5nLCBcIlwiKVxyXG4gICAgfVxyXG59KSJdLCJuYW1lcyI6WyJjb250cm9sbGVyIiwiZGF0YSIsInRoaXMiLCJfY29udHJvbGxlciIsIl9kYXRhIiwicmVzdG9yZSIsInRvZG9JdGVtcyIsIl9vYnNlcnZlcnMiLCJzdWJzY3JpYmUiLCJvYnNlcnZlciIsInB1c2giLCJ1bnN1YnNjcmliZSIsImZpbHRlciIsIm8iLCJub3RpZnkiLCJtYXAiLCJ1cGRhdGUiLCJpZCIsInRpdGxlIiwiZGVzYyIsIl9pZCIsIl90aXRsZSIsIl9kZXNjIiwiX2NyZWF0ZWRBdCIsIkRhdGUiLCJfdXBkYXRlZEF0IiwiX2NvbXBsZXRlZCIsImNvbXBsZXRlZCIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX3NhdmVUb1N0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbmRlciIsIl9vYnNlcnZlck1hbmFnZXIiLCJPYnNlcnZlck1hbmFnZXIiLCJzdG9yYWdlSXRlbXMiLCJwYXJzZSIsImdldEl0ZW0iLCJfdG9kb0l0ZW1zIiwiaXRlbSIsIlRvZG9JdGVtIiwiZXJyIiwiVG9kb09ic2VydmVyIiwiZ2V0SW5zdGFuY2UiLCJjcmVhdGVUb2RvIiwibGVuZ3RoIiwiY29tcGxldGVUb2RvIiwiZmluZCIsImVkaXRUb2RvIiwicmVtb3ZlVG9kbyIsInNhdmVIaXN0b3J5IiwiX2hpc3RvcnkiLCJUb2RvSGlzdG9yeVNuYXBzaG90Iiwicm9sbGJhY2tGcm9tSGlzdG9yeSIsIl9jb250YWluZXIiLCJjb250YWluZXIiLCJyZXNldENvbnRhaW5lciIsImlubmVySFRNTCIsImNvbnNvbGUiLCJsb2ciLCJpdGVtQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidG9TdHJpbmciLCJjbGFzc05hbWUiLCJjaGVja2JveEVsIiwiX3JlbmRlclRvZG9TdGF0dXMiLCJ0aXRsZUVsIiwiX3JlbmRlclRpdGxlIiwic3VidGl0bGVFbCIsIl9yZW5kZXJTdWJ0aXRsZSIsImFwcGVuZENoaWxkIiwib25jbGljayIsImUiLCJUb2RvQ29udHJvbGxlciIsInByZXBlbmQiLCJ0ZXh0Q29udGVudCIsInN1YnRpdGxlIiwiaW5uZXJUZXh0IiwiY2hlY2tCb3hFbCIsImNoZWNrZWQiLCJSZW5kZXJlciIsIl90b2RvUmVuZGVyZXIiLCJUb2RvSXRlbVJlbmRlcmVyIiwibGlzdEVsIiwiX3JlbmRlclRvZG9JdGVtIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsIlRvZG9MaXN0UmVuZGVyZXIiLCJnZXRFbGVtZW50QnlJZCIsIm9uc3VibWl0IiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiY3VycmVudFRhcmdldCIsImdldCJdLCJzb3VyY2VSb290IjoiIn0=